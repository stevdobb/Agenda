import{e as _e,t as le,m as ce,f as fe,g as he,F as U,h as xe,r as S,w as ne,i as se,n as be,d as C,C as De,j as Ce,k as we,l as B,p as R,q as f,s as j,b as a,v as A,x as z,o as y,c as _,y as q,a as p,z as u,A as T,B as O,D as x,E as ae,G as me,H as ke,I as Te,J as X,K as $e,L as M,M as Ee}from"./index-1MUic2Gi.js";function I(n,e){const t=()=>_e(e==null?void 0:e.in,NaN),l=Me(n);let m;if(l.date){const r=Ie(l.date,2);m=Ue(r.restDateString,r.year)}if(!m||isNaN(+m))return t();const g=+m;let i=0,d;if(l.time&&(i=je(l.time),isNaN(i)))return t();if(l.timezone){if(d=Ae(l.timezone),isNaN(d))return t()}else{const r=new Date(g+i),o=le(0,e==null?void 0:e.in);return o.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),o.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),o}return le(g+i+d,e==null?void 0:e.in)}const K={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ve=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Se=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Me(n){const e={},t=n.split(K.dateTimeDelimiter);let s;if(t.length>2)return e;if(/:/.test(t[0])?s=t[0]:(e.date=t[0],s=t[1],K.timeZoneDelimiter.test(e.date)&&(e.date=n.split(K.timeZoneDelimiter)[0],s=n.substr(e.date.length,n.length))),s){const l=K.timezone.exec(s);l?(e.time=s.replace(l[1],""),e.timezone=l[1]):e.time=s}return e}function Ie(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=n.match(t);if(!s)return{year:NaN,restDateString:""};const l=s[1]?parseInt(s[1]):null,m=s[2]?parseInt(s[2]):null;return{year:m===null?l:m*100,restDateString:n.slice((s[1]||s[2]).length)}}function Ue(n,e){if(e===null)return new Date(NaN);const t=n.match(Ne);if(!t)return new Date(NaN);const s=!!t[4],l=Z(t[1]),m=Z(t[2])-1,g=Z(t[3]),i=Z(t[4]),d=Z(t[5])-1;if(s)return Le(e,i,d)?Oe(e,i,d):new Date(NaN);{const r=new Date(0);return!Fe(e,m,g)||!Re(e,l)?new Date(NaN):(r.setUTCFullYear(e,m,Math.max(l,g)),r)}}function Z(n){return n?parseInt(n):1}function je(n){const e=n.match(Ve);if(!e)return NaN;const t=te(e[1]),s=te(e[2]),l=te(e[3]);return Ye(t,s,l)?t*ce+s*fe+l*1e3:NaN}function te(n){return n&&parseFloat(n.replace(",","."))||0}function Ae(n){if(n==="Z")return 0;const e=n.match(Se);if(!e)return 0;const t=e[1]==="+"?-1:1,s=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return Pe(s,l)?t*(s*ce+l*fe):NaN}function Oe(n,e,t){const s=new Date(0);s.setUTCFullYear(n,0,4);const l=s.getUTCDay()||7,m=(e-1)*7+t+1-l;return s.setUTCDate(s.getUTCDate()+m),s}const ze=[31,null,31,30,31,30,31,31,30,31,30,31];function pe(n){return n%400===0||n%4===0&&n%100!==0}function Fe(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(ze[e]||(pe(n)?29:28))}function Re(n,e){return e>=1&&e<=(pe(n)?366:365)}function Le(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Ye(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Pe(n,e){return e>=0&&e<=59}const re=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,oe=he,ve=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return oe(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:l,defaultVariants:m}=e,g=Object.keys(l).map(r=>{const o=t==null?void 0:t[r],v=m==null?void 0:m[r];if(o===null)return null;const h=re(o)||re(v);return l[r][h]}),i=t&&Object.entries(t).reduce((r,o)=>{let[v,h]=o;return h===void 0||(r[v]=h),r},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((r,o)=>{let{class:v,className:h,...c}=o;return Object.entries(c).every(w=>{let[b,$]=w;return Array.isArray($)?$.includes({...m,...i}[b]):{...m,...i}[b]===$})?[...r,v,h]:r},[]);return oe(n,g,d,t==null?void 0:t.class,t==null?void 0:t.className)};function ge(n){return n?n.flatMap(e=>e.type===U?ge(e.children):[e]):[]}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const We=n=>typeof n<"u";function Be(n){return JSON.parse(JSON.stringify(n))}function Je(n,e,t,s={}){var l,m,g;const{clone:i=!1,passive:d=!1,eventName:r,deep:o=!1,defaultValue:v,shouldEmit:h}=s,c=xe(),w=t||(c==null?void 0:c.emit)||((l=c==null?void 0:c.$emit)==null?void 0:l.bind(c))||((g=(m=c==null?void 0:c.proxy)==null?void 0:m.$emit)==null?void 0:g.bind(c==null?void 0:c.proxy));let b=r;b=b||`update:${e.toString()}`;const $=D=>i?typeof i=="function"?i(D):Be(D):D,V=()=>We(n[e])?$(n[e]):v,k=D=>{h?h(D)&&w(b,D):w(b,D)};if(d){const D=V(),W=S(D);let F=!1;return ne(()=>n[e],N=>{F||(F=!0,W.value=$(N),be(()=>F=!1))}),ne(W,N=>{!F&&(N!==n[e]||o)&&k(N)},{deep:o}),W}else return se({get(){return V()},set(D){k(D)}})}const Ze=C({name:"PrimitiveSlot",inheritAttrs:!1,setup(n,{attrs:e,slots:t}){return()=>{var d;if(!t.default)return null;const s=ge(t.default()),l=s.findIndex(r=>r.type!==De);if(l===-1)return s;const m=s[l];(d=m.props)==null||delete d.ref;const g=m.props?Ce(e,m.props):e,i=we({...m,props:{}},g);return s.length===1?i:(s[l]=i,s)}}}),He=["area","img","input"],Ge=C({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(n,{attrs:e,slots:t}){const s=n.asChild?"template":n.as;return typeof s=="string"&&He.includes(s)?()=>B(s,e):s!=="template"?()=>B(n.as,e,{default:t.default}):()=>B(Ze,e,{default:t.default})}}),E=C({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(n){const e=n;return(t,s)=>(y(),R(a(Ge),{as:n.as,"as-child":n.asChild,class:j(a(A)(a(qe)({variant:n.variant,size:n.size}),e.class))},{default:f(()=>[z(t.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),qe=ve("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}}),L=C({__name:"Card",props:{class:{}},setup(n){const e=n;return(t,s)=>(y(),_("div",{class:j(a(A)("rounded-lg border bg-card text-card-foreground shadow-sm",e.class))},[z(t.$slots,"default")],2))}}),J=C({__name:"CardContent",props:{class:{}},setup(n){const e=n;return(t,s)=>(y(),_("div",{class:j(a(A)("p-6 pt-0",e.class))},[z(t.$slots,"default")],2))}}),Ke=C({__name:"CardDescription",props:{class:{}},setup(n){const e=n;return(t,s)=>(y(),_("p",{class:j(a(A)("text-sm text-muted-foreground",e.class))},[z(t.$slots,"default")],2))}}),ye=C({__name:"CardFooter",props:{class:{}},setup(n){const e=n;return(t,s)=>(y(),_("div",{class:j(a(A)("flex items-center p-6 pt-0",e.class))},[z(t.$slots,"default")],2))}}),Y=C({__name:"CardHeader",props:{class:{}},setup(n){const e=n;return(t,s)=>(y(),_("div",{class:j(a(A)("flex flex-col space-y-1.5 p-6",e.class))},[z(t.$slots,"default")],2))}}),P=C({__name:"CardTitle",props:{class:{}},setup(n){const e=n;return(t,s)=>(y(),_("h3",{class:j(a(A)("text-2xl font-semibold leading-none tracking-tight",e.class))},[z(t.$slots,"default")],2))}});/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Xe=n=>{const e=Qe(n);return e.charAt(0).toUpperCase()+e.slice(1)},et=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),ue=n=>n==="";/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=({name:n,iconNode:e,absoluteStrokeWidth:t,"absolute-stroke-width":s,strokeWidth:l,"stroke-width":m,size:g=H.width,color:i=H.stroke,...d},{slots:r})=>B("svg",{...H,...d,width:g,height:g,stroke:i,"stroke-width":ue(t)||ue(s)||t===!0||s===!0?Number(l||m||H["stroke-width"])*24/Number(g):l||m||H["stroke-width"],class:et("lucide",d.class,...n?[`lucide-${ie(Xe(n))}-icon`,`lucide-${ie(n)}`]:["lucide-icon"])},[...e.map(o=>B(...o)),...r.default?[r.default()]:[]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(n,e)=>(t,{slots:s,attrs:l})=>B(tt,{...l,...t,iconNode:e,name:n},s);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=ee("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=ee("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ee("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ee("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),rt={class:"flex justify-between items-center mb-6"},ot={class:"text-2xl font-bold"},it={class:"flex flex-wrap gap-2 mb-4"},ut=["id","checked","onChange"],dt=["for"],ct={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},ft={class:"grid grid-cols-7 gap-2 text-center text-sm"},mt=["onClick"],pt=C({__name:"YearView",setup(n){const e=q(),t=S(new Date().getFullYear()),s=se(()=>{const i=t.value;return["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"].map((r,o)=>{const v=o,h=new Date(i,v,1),c=new Date(i,v+1,0).getDate(),w=(h.getDay()+6)%7,b=Array.from({length:c},($,V)=>{const k=new Date(i,v,V+1),D=e.getEventsForDate(k),W=D.length>0?D[0].color:"transparent";return{day:V+1,date:k,bgColor:W,events:D}});return{name:r,days:b,firstDayOfWeek:w}})}),l=["Ma","Di","Wo","Do","Vr","Za","Zo"];function m(){t.value--}function g(){t.value++}return(i,d)=>(y(),_("div",null,[p("div",rt,[u(a(E),{variant:"outline",size:"icon",onClick:m},{default:f(()=>[u(a(nt),{class:"h-4 w-4"})]),_:1}),p("h2",ot,T(t.value),1),u(a(E),{variant:"outline",size:"icon",onClick:g},{default:f(()=>[u(a(st),{class:"h-4 w-4"})]),_:1})]),p("div",it,[(y(!0),_(U,null,O(a(e).eventTypes,r=>(y(),_("div",{key:r.name,class:"flex items-center space-x-2"},[p("input",{type:"checkbox",id:`checkbox-${r.name}`,checked:!a(e).hiddenEventTypes.has(r.name),onChange:o=>a(e).toggleEventTypeVisibility(r.name),class:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,40,ut),p("label",{for:`checkbox-${r.name}`,class:"text-sm font-medium text-gray-700"},T(r.name),9,dt)]))),128))]),p("div",ct,[(y(!0),_(U,null,O(s.value,r=>(y(),R(a(L),{key:r.name},{default:f(()=>[u(a(Y),null,{default:f(()=>[u(a(P),{class:"text-center text-lg"},{default:f(()=>[x(T(r.name),1)]),_:2},1024)]),_:2},1024),u(a(J),null,{default:f(()=>[p("div",ft,[(y(),_(U,null,O(l,o=>p("div",{key:o,class:"font-semibold text-muted-foreground"},T(o),1)),64)),(y(!0),_(U,null,O(r.firstDayOfWeek,o=>(y(),_("div",{key:"blank-"+o}))),128)),(y(!0),_(U,null,O(r.days,o=>(y(),_("div",{key:o.day,class:"w-8 h-8 flex items-center justify-center rounded-full text-sm cursor-pointer",style:ae({backgroundColor:o.bgColor,color:o.bgColor!=="transparent"?"white":"inherit"}),onClick:()=>{o.events&&o.events.length>0&&(a(e).selectedEvent=o.events[0])}},T(o.day),13,mt))),128))])]),_:2},1024)]),_:2},1024))),128))])]))}}),Q=C({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,l=Je(t,"modelValue",e,{passive:!0,defaultValue:t.defaultValue});return(m,g)=>me((y(),_("input",{"onUpdate:modelValue":g[0]||(g[0]=i=>Te(l)?l.value=i:null),class:j(a(A)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t.class))},null,2)),[[ke,a(l)]])}}),vt=["for"],G=C({__name:"Label",props:{for:{},class:{}},setup(n){const e=ve("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),t=n;return(s,l)=>(y(),_("label",{for:t.for,class:j(a(A)(a(e)(),t.class))},[z(s.$slots,"default")],10,vt))}}),gt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yt={class:"space-y-2"},_t={class:"space-y-2"},ht={class:"md:col-span-2 space-y-2"},xt=["value"],bt={key:0,class:"md:col-span-2 grid grid-cols-1 gap-4"},Dt={class:"space-y-2"},Ct={class:"space-y-2"},wt=C({__name:"EventEditor",setup(n){const e=q(),t=S(""),s=S(""),l=S(""),m=S(""),g=S("#000000"),i=S(!1);ne(()=>e.selectedEvent,r=>{var o;r?(t.value=r.startDate||"",s.value=r.endDate||"",l.value=r.type,i.value=!1,m.value="",g.value="#000000"):(t.value="",s.value="",l.value=((o=e.eventTypes[0])==null?void 0:o.name)||"",i.value=!1,m.value="",g.value="#000000")},{immediate:!0});function d(){if(!t.value||!s.value||!l.value){alert("Please fill in all fields.");return}let r=e.eventTypes.find(v=>v.name===l.value);if(i.value&&m.value){const v={name:m.value,color:g.value};e.addEventType(v),r=v,m.value="",g.value="#000000",i.value=!1,l.value=v.name}if(!r){alert("Selected event type not found.");return}const o={startDate:t.value,endDate:s.value,type:r.name,color:r.color};e.selectedEvent?e.updateEvent({...o,id:e.selectedEvent.id}):e.addEvent(o),e.selectedEvent=null}return(r,o)=>(y(),R(a(L),null,{default:f(()=>[u(a(Y),null,{default:f(()=>[u(a(P),null,{default:f(()=>[...o[7]||(o[7]=[x("Add/Edit Event",-1)])]),_:1})]),_:1}),u(a(J),null,{default:f(()=>[p("div",gt,[p("div",yt,[u(a(G),{for:"start-date"},{default:f(()=>[...o[8]||(o[8]=[x("Start Date",-1)])]),_:1}),u(a(Q),{type:"date",id:"start-date",modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=v=>t.value=v)},null,8,["modelValue"])]),p("div",_t,[u(a(G),{for:"end-date"},{default:f(()=>[...o[9]||(o[9]=[x("End Date",-1)])]),_:1}),u(a(Q),{type:"date",id:"end-date",modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=v=>s.value=v)},null,8,["modelValue"])]),p("div",ht,[u(a(G),{for:"event-type"},{default:f(()=>[...o[10]||(o[10]=[x("Event Type",-1)])]),_:1}),me(p("select",{id:"event-type","onUpdate:modelValue":o[2]||(o[2]=v=>l.value=v),onChange:o[3]||(o[3]=v=>i.value=l.value==="custom"),class:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[(y(!0),_(U,null,O(a(e).eventTypes,v=>(y(),_("option",{key:v.name,value:v.name},T(v.name),9,xt))),128)),o[11]||(o[11]=p("option",{value:"custom"},"-- Create Custom Type --",-1))],544),[[$e,l.value]])]),i.value?(y(),_("div",bt,[p("div",Dt,[u(a(G),{for:"custom-type-name"},{default:f(()=>[...o[12]||(o[12]=[x("Custom Type Name",-1)])]),_:1}),u(a(Q),{type:"text",id:"custom-type-name",modelValue:m.value,"onUpdate:modelValue":o[4]||(o[4]=v=>m.value=v)},null,8,["modelValue"])]),p("div",Ct,[u(a(G),{for:"custom-type-color"},{default:f(()=>[...o[13]||(o[13]=[x("Custom Type Color",-1)])]),_:1}),u(a(Q),{type:"color",id:"custom-type-color",modelValue:g.value,"onUpdate:modelValue":o[5]||(o[5]=v=>g.value=v),class:"w-full h-10"},null,8,["modelValue"])])])):X("",!0)])]),_:1}),u(a(ye),{class:"flex justify-end gap-2"},{default:f(()=>[a(e).selectedEvent?(y(),R(a(E),{key:0,variant:"outline",onClick:o[6]||(o[6]=v=>a(e).selectedEvent=null)},{default:f(()=>[...o[14]||(o[14]=[x("Cancel",-1)])]),_:1})):X("",!0),u(a(E),{onClick:d},{default:f(()=>[x(T(a(e).selectedEvent?"Update Event":"Save Event"),1)]),_:1})]),_:1})]),_:1}))}}),kt={class:"space-y-2"},Tt={class:"text-sm"},de=C({__name:"PrintLegend",setup(n){const e=q();return(t,s)=>(y(),R(a(L),{class:"w-full max-w-sm"},{default:f(()=>[u(a(Y),null,{default:f(()=>[u(a(P),null,{default:f(()=>[...s[0]||(s[0]=[x("Legenda",-1)])]),_:1})]),_:1}),u(a(J),null,{default:f(()=>[p("ul",kt,[(y(!0),_(U,null,O(a(e).eventTypes,l=>(y(),_("li",{key:l.name,class:"flex items-center"},[p("span",{class:"w-5 h-5 inline-block mr-3 rounded-full",style:ae({backgroundColor:l.color})},null,4),p("span",Tt,T(l.name),1)]))),128))])]),_:1})]),_:1}))}}),$t={key:0,class:"text-center text-muted-foreground"},Et={class:"space-y-3"},Nt={class:"flex items-center gap-3"},Vt={class:"font-medium"},St={class:"text-sm text-muted-foreground"},Mt={class:"flex items-center gap-2"},It=C({__name:"EventList",emits:["editEvent"],setup(n,{emit:e}){const t=q(),s=se(()=>[...t.events].sort((g,i)=>{const d=new Date(g.startDate).getTime(),r=new Date(i.startDate).getTime();return d-r}));function l(g){confirm("Are you sure you want to delete this event?")&&t.removeEvent(g)}function m(g){const i=new Date(g.startDate).toLocaleDateString(),d=new Date(g.endDate).toLocaleDateString();return i===d?i:`${i} - ${d}`}return(g,i)=>(y(),R(a(L),null,{default:f(()=>[u(a(Y),null,{default:f(()=>[u(a(P),null,{default:f(()=>[...i[0]||(i[0]=[x("All Events",-1)])]),_:1})]),_:1}),u(a(J),null,{default:f(()=>[s.value.length===0?(y(),_("div",$t," No events added yet. ")):X("",!0),p("ul",Et,[(y(!0),_(U,null,O(s.value,d=>(y(),_("li",{key:d.id,class:"flex items-center justify-between p-3 border rounded-md"},[p("div",Nt,[p("span",{class:"w-4 h-4 rounded-full",style:ae({backgroundColor:d.color})},null,4),p("div",null,[p("p",Vt,T(d.type),1),p("p",St,T(m(d)),1)])]),p("div",Mt,[u(a(E),{variant:"outline",size:"icon",onClick:r=>a(t).selectedEvent=d},{default:f(()=>[u(a(at),{class:"h-4 w-4"})]),_:1},8,["onClick"]),u(a(E),{variant:"destructive",size:"icon",onClick:r=>l(d.id)},{default:f(()=>[u(a(lt),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]))),128))])]),_:1})]),_:1}))}}),Ut={class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},jt=C({__name:"ConfirmModal",props:{title:{},description:{}},emits:["confirm","cancel"],setup(n,{emit:e}){const t=e;return(s,l)=>(y(),_("div",Ut,[u(a(L),{class:"w-full max-w-md"},{default:f(()=>[u(a(Y),null,{default:f(()=>[u(a(P),null,{default:f(()=>[x(T(n.title),1)]),_:1}),u(a(Ke),null,{default:f(()=>[x(T(n.description),1)]),_:1})]),_:1}),u(a(ye),{class:"flex justify-end gap-4"},{default:f(()=>[u(a(E),{variant:"outline",onClick:l[0]||(l[0]=m=>t("cancel"))},{default:f(()=>[...l[2]||(l[2]=[x("Cancel",-1)])]),_:1}),u(a(E),{onClick:l[1]||(l[1]=m=>t("confirm"))},{default:f(()=>[...l[3]||(l[3]=[x("Confirm",-1)])]),_:1})]),_:1})]),_:1})]))}});function At(n){var m,g;const e=[],t=n.split(/\r\n|\n/);let s={},l=!1;for(const i of t)if(i.startsWith("BEGIN:VEVENT"))l=!0,s={};else if(i.startsWith("END:VEVENT"))l=!1,s.uid&&s.summary&&s.startDate&&s.endDate&&e.push(s);else if(l)if(i.startsWith("SUMMARY:"))s.summary=i.substring(8).trim();else if(i.startsWith("DTSTART;")){const d=i.split(":"),r=(m=d.pop())==null?void 0:m.trim(),o=d.join(":").substring(8).split(";").map(v=>v.trim());r&&(o.includes("VALUE=DATE")?s.startDate=M(I(r),"yyyy-MM-dd"):s.startDate=M(I(r.substring(0,8)),"yyyy-MM-dd"))}else if(i.startsWith("DTSTART:")){const d=i.substring(8).trim();d.length===8?s.startDate=M(I(d),"yyyy-MM-dd"):d.length>8&&d.includes("T")?s.startDate=M(I(d.substring(0,8)),"yyyy-MM-dd"):s.startDate=M(I(d),"yyyy-MM-dd")}else if(i.startsWith("DTEND;")){const d=i.split(":"),r=(g=d.pop())==null?void 0:g.trim(),o=d.join(":").substring(6).split(";").map(v=>v.trim());if(r)if(o.includes("VALUE=DATE")){const v=I(r);v.setDate(v.getDate()-1),s.endDate=M(v,"yyyy-MM-dd")}else s.endDate=M(I(r.substring(0,8)),"yyyy-MM-dd")}else if(i.startsWith("DTEND:")){const d=i.substring(6).trim();if(d.length===8){const r=I(d);r.setDate(r.getDate()-1),s.endDate=M(r,"yyyy-MM-dd")}else d.length>8&&d.includes("T")?s.endDate=M(I(d.substring(0,8)),"yyyy-MM-dd"):s.endDate=M(I(d),"yyyy-MM-dd")}else i.startsWith("DESCRIPTION:")?s.description=i.substring(12).trim():i.startsWith("UID:")&&(s.uid=i.substring(4).trim());return e}const Ot={class:"page-container max-w-7xl mx-auto p-4 sm:p-6 lg:p-8"},zt={class:"text-center my-8 relative no-print"},Ft={class:"flex justify-center space-x-2 mb-4 mt-5"},Rt={class:"no-print grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},Lt={class:"lg:col-span-2 flex flex-col gap-8"},Yt={class:"lg:col-span-1 flex flex-col gap-8"},Pt={class:"flex justify-between py-1"},Wt={class:"font-semibold"},Bt={class:"flex justify-between py-1"},Jt={class:"font-semibold"},Zt={class:"flex justify-between py-1"},Ht={class:"font-semibold"},Gt={class:""},qt={class:"text-2xl font-bold text-center mb-4 print-only"},Kt={class:"mt-8 print-only print-legend-container"},Qt={class:"mt-8 no-print"},en=C({__name:"YearViewPage",setup(n){const e=q(),t=S(null),s=S(null),l=S(!1);function m(){window.print()}function g(){const h={events:e.events,eventTypes:e.eventTypes},c=JSON.stringify(h,null,2),w=new Blob([c],{type:"application/json"}),b=URL.createObjectURL(w),$=document.createElement("a");$.href=b,$.download="calendar-data.json",$.click(),URL.revokeObjectURL(b)}function i(){var h;(h=t.value)==null||h.click()}function d(){var h;(h=s.value)==null||h.click()}function r(h){var b;const c=(b=h.target.files)==null?void 0:b[0];if(!c)return;const w=new FileReader;w.onload=$=>{var V;try{const k=JSON.parse((V=$.target)==null?void 0:V.result);k.events&&k.eventTypes?(e.setData({newEvents:k.events,newTypes:k.eventTypes}),alert("Data geÃ¯mporteerd!")):alert("Ongeldig bestandsformaat.")}catch(k){alert("Fout bij het lezen van het bestand."),console.error(k)}},w.readAsText(c)}async function o(h){var b;const c=(b=h.target.files)==null?void 0:b[0];if(!c)return;const w=new FileReader;w.onload=async $=>{var V;try{const k=(V=$.target)==null?void 0:V.result,D=At(k);e.eventTypes.find(N=>N.name==="ICS Event")||e.addEventType({name:"ICS Event",color:"#888888"});const F=e.eventTypes.find(N=>N.name==="ICS Event");F?(D.forEach(N=>{e.addEvent({startDate:N.startDate,endDate:N.endDate,type:N.summary,color:F.color})}),alert(`${D.length} events from ICS imported!`)):alert('Could not find or create "ICS Event" type.'),s.value&&(s.value.value="")}catch(k){alert("Fout bij het lezen of parsen van het ICS-bestand."),console.error(k)}},w.readAsText(c)}function v(){e.clearData(),l.value=!1}return(h,c)=>{const w=Ee("router-link");return y(),_("div",Ot,[l.value?(y(),R(jt,{key:0,title:"Are you sure?",description:"This will delete all your custom events and types. This action cannot be undone.",onConfirm:v,onCancel:c[0]||(c[0]=b=>l.value=!1)})):X("",!0),p("header",zt,[p("div",Ft,[u(w,{to:"/",class:"px-3 py-1 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition"},{default:f(()=>[...c[2]||(c[2]=[x("Home",-1)])]),_:1})])]),p("div",Rt,[p("div",Lt,[u(wt)]),p("div",Yt,[u(de),u(a(L),null,{default:f(()=>[u(a(Y),null,{default:f(()=>[u(a(P),null,{default:f(()=>[...c[3]||(c[3]=[x("Leave Days",-1)])]),_:1})]),_:1}),u(a(J),null,{default:f(()=>[c[7]||(c[7]=p("div",{class:"flex flex-col space-y-4"},null,-1)),p("div",Pt,[c[4]||(c[4]=p("span",null,"Total:",-1)),p("span",Wt,T(a(e).leaveDayStats.total),1)]),p("div",Bt,[c[5]||(c[5]=p("span",null,"Planned:",-1)),p("span",Jt,T(a(e).leaveDayStats.planned),1)]),p("div",Zt,[c[6]||(c[6]=p("span",null,"Remaining:",-1)),p("span",Ht,T(a(e).leaveDayStats.remaining),1)])]),_:1})]),_:1}),u(a(L),null,{default:f(()=>[u(a(Y),null,{default:f(()=>[u(a(P),null,{default:f(()=>[...c[8]||(c[8]=[x("Data Management",-1)])]),_:1})]),_:1}),u(a(J),{class:"flex flex-wrap gap-4"},{default:f(()=>[u(a(E),{onClick:g},{default:f(()=>[...c[9]||(c[9]=[x("Export",-1)])]),_:1}),u(a(E),{onClick:i,variant:"outline"},{default:f(()=>[...c[10]||(c[10]=[x("Import JSON",-1)])]),_:1}),u(a(E),{onClick:d,variant:"outline"},{default:f(()=>[...c[11]||(c[11]=[x("Import ICS",-1)])]),_:1}),u(a(E),{onClick:c[1]||(c[1]=b=>l.value=!0),variant:"destructive"},{default:f(()=>[...c[12]||(c[12]=[x("Restart",-1)])]),_:1}),u(a(E),{onClick:m},{default:f(()=>[...c[13]||(c[13]=[x("Print Year View",-1)])]),_:1}),p("input",{type:"file",ref_key:"importFile",ref:t,onChange:r,class:"hidden",accept:".json"},null,544),p("input",{type:"file",ref_key:"importIcsFile",ref:s,onChange:o,class:"hidden",accept:".ics"},null,544)]),_:1})]),_:1})])]),p("div",Gt,[p("h2",qt,T(new Date().getFullYear()),1),u(pt),p("div",Kt,[u(de)])]),p("div",Qt,[u(It)])])}}});export{en as default};
