import{e as _e,t as ae,m as de,f as ce,d as w,g as G,h as se,c as D,F as U,r as F,b as r,a as p,i as T,n as X,o as _,j as De,k as he,l as I,w as ne,p as xe,C as be,q as Ce,s as we,v as L,x as R,y as j,z as A,A as v,B as z,D as fe,E as Te,G as ke,H as f,I as h,J as ee,K as $e,L as M,M as Ee}from"./index-Drk4IcmL.js";function V(n,e){const t=()=>_e(e==null?void 0:e.in,NaN),a=Ve(n);let m;if(a.date){const i=Ie(a.date,2);m=Ue(i.restDateString,i.year)}if(!m||isNaN(+m))return t();const y=+m;let u=0,c;if(a.time&&(u=je(a.time),isNaN(u)))return t();if(a.timezone){if(c=Ae(a.timezone),isNaN(c))return t()}else{const i=new Date(y+u),l=ae(0,e==null?void 0:e.in);return l.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),l.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),l}return ae(y+u+c,e==null?void 0:e.in)}const K={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Se=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Me=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ve(n){const e={},t=n.split(K.dateTimeDelimiter);let s;if(t.length>2)return e;if(/:/.test(t[0])?s=t[0]:(e.date=t[0],s=t[1],K.timeZoneDelimiter.test(e.date)&&(e.date=n.split(K.timeZoneDelimiter)[0],s=n.substr(e.date.length,n.length))),s){const a=K.timezone.exec(s);a?(e.time=s.replace(a[1],""),e.timezone=a[1]):e.time=s}return e}function Ie(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=n.match(t);if(!s)return{year:NaN,restDateString:""};const a=s[1]?parseInt(s[1]):null,m=s[2]?parseInt(s[2]):null;return{year:m===null?a:m*100,restDateString:n.slice((s[1]||s[2]).length)}}function Ue(n,e){if(e===null)return new Date(NaN);const t=n.match(Ne);if(!t)return new Date(NaN);const s=!!t[4],a=B(t[1]),m=B(t[2])-1,y=B(t[3]),u=B(t[4]),c=B(t[5])-1;if(s)return Re(e,u,c)?Fe(e,u,c):new Date(NaN);{const i=new Date(0);return!Oe(e,m,y)||!Le(e,a)?new Date(NaN):(i.setUTCFullYear(e,m,Math.max(a,y)),i)}}function B(n){return n?parseInt(n):1}function je(n){const e=n.match(Se);if(!e)return NaN;const t=te(e[1]),s=te(e[2]),a=te(e[3]);return Ye(t,s,a)?t*de+s*ce+a*1e3:NaN}function te(n){return n&&parseFloat(n.replace(",","."))||0}function Ae(n){if(n==="Z")return 0;const e=n.match(Me);if(!e)return 0;const t=e[1]==="+"?-1:1,s=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return Pe(s,a)?t*(s*de+a*ce):NaN}function Fe(n,e,t){const s=new Date(0);s.setUTCFullYear(n,0,4);const a=s.getUTCDay()||7,m=(e-1)*7+t+1-a;return s.setUTCDate(s.getUTCDate()+m),s}const ze=[31,null,31,30,31,30,31,31,30,31,30,31];function me(n){return n%400===0||n%4===0&&n%100!==0}function Oe(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(ze[e]||(me(n)?29:28))}function Le(n,e){return e>=1&&e<=(me(n)?366:365)}function Re(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Ye(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Pe(n,e){return e>=0&&e<=59}const We={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},Be={class:"font-bold text-lg text-center mb-3 dark:text-white capitalize"},He={class:"grid grid-cols-7 gap-1 text-center text-xs mb-4 text-gray-600 dark:text-gray-400"},Je={class:"space-y-2 border-t dark:border-gray-700 pt-2 mt-auto"},Ze={class:"font-bold text-blue-600 dark:text-blue-400 shrink-0 text-right min-w-[1.25rem]"},Ge=["title"],qe=w({__name:"YearView",setup(n){const e=G(),t=se(()=>new Date().getFullYear()),s=Array.from({length:12},(l,d)=>d);function a(l){return new Date(t.value,l,1).toLocaleString("default",{month:"long"})}function m(l){return new Date(t.value,l+1,0).getDate()}function y(l){return new Date(t.value,l,1).getDay()}function u(l){return e.events.filter(d=>{const g=new Date(d.startDate);return g.getFullYear()===t.value&&g.getMonth()===l}).sort((d,g)=>{const o=new Date(d.startDate).getTime(),b=new Date(g.startDate).getTime();return o-b})}function c(l){const d=new Date(l.startDate),g=new Date(l.endDate);return d.toDateString()===g.toDateString()?d.getDate().toString():d.getMonth()===g.getMonth()?`${d.getDate()}-${g.getDate()}`:`${d.getDate()}/${d.getMonth()+1}-${g.getDate()}/${g.getMonth()+1}`}function i(l,d){const g=new Date(t.value,l,d);g.setHours(0,0,0,0);const o=g.getTime(),b=e.events.find(x=>{const C=new Date(x.startDate);C.setHours(0,0,0,0);const N=new Date(x.endDate);return N.setHours(0,0,0,0),o>=C.getTime()&&o<=N.getTime()});return b&&b.color?{backgroundColor:b.color,color:"#ffffff",fontWeight:"bold"}:{}}return(l,d)=>(_(),D("div",We,[(_(!0),D(U,null,F(r(s),g=>(_(),D("div",{key:g,class:"bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 shadow-sm flex flex-col"},[p("h3",Be,T(a(g)),1),p("div",He,[(_(),D(U,null,F(["S","M","T","W","T","F","S"],o=>p("div",{key:o,class:"font-bold"},T(o),1)),64)),(_(!0),D(U,null,F(y(g),o=>(_(),D("div",{key:`blank-${o}`}))),128)),(_(!0),D(U,null,F(m(g),o=>(_(),D("div",{key:o,class:"p-1"},[p("div",{class:"w-6 h-6 flex items-center justify-center mx-auto rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition",style:X(i(g,o))},T(o),5)]))),128))]),p("div",Je,[(_(!0),D(U,null,F(u(g),o=>(_(),D("div",{key:o.id,class:"text-xs flex items-start space-x-2"},[p("span",Ze,T(c(o)),1),p("span",{class:"truncate text-gray-800 dark:text-gray-200",title:o.type,style:X({color:o.color})},T(o.type),13,Ge)]))),128))])]))),128))]))}}),le=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,re=De,pe=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return re(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:m}=e,y=Object.keys(a).map(i=>{const l=t==null?void 0:t[i],d=m==null?void 0:m[i];if(l===null)return null;const g=le(l)||le(d);return a[i][g]}),u=t&&Object.entries(t).reduce((i,l)=>{let[d,g]=l;return g===void 0||(i[d]=g),i},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((i,l)=>{let{class:d,className:g,...o}=l;return Object.entries(o).every(b=>{let[x,C]=b;return Array.isArray(C)?C.includes({...m,...u}[x]):{...m,...u}[x]===C})?[...i,d,g]:i},[]);return re(n,y,c,t==null?void 0:t.class,t==null?void 0:t.className)};function ve(n){return n?n.flatMap(e=>e.type===U?ve(e.children):[e]):[]}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ke=n=>typeof n<"u";function Qe(n){return JSON.parse(JSON.stringify(n))}function Xe(n,e,t,s={}){var a,m,y;const{clone:u=!1,passive:c=!1,eventName:i,deep:l=!1,defaultValue:d,shouldEmit:g}=s,o=he(),b=t||(o==null?void 0:o.emit)||((a=o==null?void 0:o.$emit)==null?void 0:a.bind(o))||((y=(m=o==null?void 0:o.proxy)==null?void 0:m.$emit)==null?void 0:y.bind(o==null?void 0:o.proxy));let x=i;x=x||`update:${e.toString()}`;const C=k=>u?typeof u=="function"?u(k):Qe(k):k,N=()=>Ke(n[e])?C(n[e]):d,$=k=>{g?g(k)&&b(x,k):b(x,k)};if(c){const k=N(),q=I(k);let O=!1;return ne(()=>n[e],E=>{O||(O=!0,q.value=C(E),xe(()=>O=!1))}),ne(q,E=>{!O&&(E!==n[e]||l)&&$(E)},{deep:l}),q}else return se({get(){return N()},set(k){$(k)}})}const et=w({name:"PrimitiveSlot",inheritAttrs:!1,setup(n,{attrs:e,slots:t}){return()=>{var c;if(!t.default)return null;const s=ve(t.default()),a=s.findIndex(i=>i.type!==be);if(a===-1)return s;const m=s[a];(c=m.props)==null||delete c.ref;const y=m.props?Ce(e,m.props):e,u=we({...m,props:{}},y);return s.length===1?u:(s[a]=u,s)}}}),tt=["area","img","input"],nt=w({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(n,{attrs:e,slots:t}){const s=n.asChild?"template":n.as;return typeof s=="string"&&tt.includes(s)?()=>L(s,e):s!=="template"?()=>L(n.as,e,{default:t.default}):()=>L(et,e,{default:t.default})}}),S=w({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(n){const e=n;return(t,s)=>(_(),R(r(nt),{as:n.as,"as-child":n.asChild,class:j(r(A)(r(st)({variant:n.variant,size:n.size}),e.class))},{default:v(()=>[z(t.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),st=pe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=w({__name:"Card",props:{class:{}},setup(n){const e=n;return(t,s)=>(_(),D("div",{class:j(r(A)("rounded-lg border bg-card text-card-foreground shadow-sm",e.class))},[z(t.$slots,"default")],2))}}),Z=w({__name:"CardContent",props:{class:{}},setup(n){const e=n;return(t,s)=>(_(),D("div",{class:j(r(A)("p-6 pt-0",e.class))},[z(t.$slots,"default")],2))}}),at=w({__name:"CardDescription",props:{class:{}},setup(n){const e=n;return(t,s)=>(_(),D("p",{class:j(r(A)("text-sm text-muted-foreground",e.class))},[z(t.$slots,"default")],2))}}),ge=w({__name:"CardFooter",props:{class:{}},setup(n){const e=n;return(t,s)=>(_(),D("div",{class:j(r(A)("flex items-center p-6 pt-0",e.class))},[z(t.$slots,"default")],2))}}),P=w({__name:"CardHeader",props:{class:{}},setup(n){const e=n;return(t,s)=>(_(),D("div",{class:j(r(A)("flex flex-col space-y-1.5 p-6",e.class))},[z(t.$slots,"default")],2))}}),W=w({__name:"CardTitle",props:{class:{}},setup(n){const e=n;return(t,s)=>(_(),D("h3",{class:j(r(A)("text-2xl font-semibold leading-none tracking-tight",e.class))},[z(t.$slots,"default")],2))}}),Q=w({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,a=Xe(t,"modelValue",e,{passive:!0,defaultValue:t.defaultValue});return(m,y)=>fe((_(),D("input",{"onUpdate:modelValue":y[0]||(y[0]=u=>ke(a)?a.value=u:null),class:j(r(A)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t.class))},null,2)),[[Te,r(a)]])}}),lt=["for"],H=w({__name:"Label",props:{for:{},class:{}},setup(n){const e=pe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),t=n;return(s,a)=>(_(),D("label",{for:t.for,class:j(r(A)(r(e)(),t.class))},[z(s.$slots,"default")],10,lt))}}),rt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ot={class:"space-y-2"},it={class:"space-y-2"},ut={class:"md:col-span-2 space-y-2"},dt=["value"],ct={key:0,class:"md:col-span-2 grid grid-cols-1 gap-4"},ft={class:"space-y-2"},mt={class:"space-y-2"},pt=w({__name:"EventEditor",setup(n){const e=G(),t=I(""),s=I(""),a=I(""),m=I(""),y=I("#000000"),u=I(!1);ne(()=>e.selectedEvent,i=>{var l;i?(t.value=i.startDate||"",s.value=i.endDate||"",a.value=i.type,u.value=!1,m.value="",y.value="#000000"):(t.value="",s.value="",a.value=((l=e.eventTypes[0])==null?void 0:l.name)||"",u.value=!1,m.value="",y.value="#000000")},{immediate:!0});function c(){if(!t.value||!s.value||!a.value){alert("Please fill in all fields.");return}let i=e.eventTypes.find(d=>d.name===a.value);if(u.value&&m.value){const d={name:m.value,color:y.value};e.addEventType(d),i=d,m.value="",y.value="#000000",u.value=!1,a.value=d.name}if(!i){alert("Selected event type not found.");return}const l={startDate:t.value,endDate:s.value,type:i.name,color:i.color};e.selectedEvent?e.updateEvent({...l,id:e.selectedEvent.id}):e.addEvent(l),e.selectedEvent=null}return(i,l)=>(_(),R(r(Y),null,{default:v(()=>[f(r(P),null,{default:v(()=>[f(r(W),null,{default:v(()=>[...l[7]||(l[7]=[h("Add/Edit Event",-1)])]),_:1})]),_:1}),f(r(Z),null,{default:v(()=>[p("div",rt,[p("div",ot,[f(r(H),{for:"start-date"},{default:v(()=>[...l[8]||(l[8]=[h("Start Date",-1)])]),_:1}),f(r(Q),{type:"date",id:"start-date",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=d=>t.value=d)},null,8,["modelValue"])]),p("div",it,[f(r(H),{for:"end-date"},{default:v(()=>[...l[9]||(l[9]=[h("End Date",-1)])]),_:1}),f(r(Q),{type:"date",id:"end-date",modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=d=>s.value=d)},null,8,["modelValue"])]),p("div",ut,[f(r(H),{for:"event-type"},{default:v(()=>[...l[10]||(l[10]=[h("Event Type",-1)])]),_:1}),fe(p("select",{id:"event-type","onUpdate:modelValue":l[2]||(l[2]=d=>a.value=d),onChange:l[3]||(l[3]=d=>u.value=a.value==="custom"),class:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[(_(!0),D(U,null,F(r(e).eventTypes,d=>(_(),D("option",{key:d.name,value:d.name},T(d.name),9,dt))),128)),l[11]||(l[11]=p("option",{value:"custom"},"-- Create Custom Type --",-1))],544),[[$e,a.value]])]),u.value?(_(),D("div",ct,[p("div",ft,[f(r(H),{for:"custom-type-name"},{default:v(()=>[...l[12]||(l[12]=[h("Custom Type Name",-1)])]),_:1}),f(r(Q),{type:"text",id:"custom-type-name",modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=d=>m.value=d)},null,8,["modelValue"])]),p("div",mt,[f(r(H),{for:"custom-type-color"},{default:v(()=>[...l[13]||(l[13]=[h("Custom Type Color",-1)])]),_:1}),f(r(Q),{type:"color",id:"custom-type-color",modelValue:y.value,"onUpdate:modelValue":l[5]||(l[5]=d=>y.value=d),class:"w-full h-10"},null,8,["modelValue"])])])):ee("",!0)])]),_:1}),f(r(ge),{class:"flex justify-end gap-2"},{default:v(()=>[r(e).selectedEvent?(_(),R(r(S),{key:0,variant:"outline",onClick:l[6]||(l[6]=d=>r(e).selectedEvent=null)},{default:v(()=>[...l[14]||(l[14]=[h("Cancel",-1)])]),_:1})):ee("",!0),f(r(S),{onClick:c},{default:v(()=>[h(T(r(e).selectedEvent?"Update Event":"Save Event"),1)]),_:1})]),_:1})]),_:1}))}}),vt={class:"space-y-2"},gt={class:"text-sm"},oe=w({__name:"PrintLegend",setup(n){const e=G();return(t,s)=>(_(),R(r(Y),{class:"w-full max-w-sm"},{default:v(()=>[f(r(P),null,{default:v(()=>[f(r(W),null,{default:v(()=>[...s[0]||(s[0]=[h("Legenda",-1)])]),_:1})]),_:1}),f(r(Z),null,{default:v(()=>[p("ul",vt,[(_(!0),D(U,null,F(r(e).eventTypes,a=>(_(),D("li",{key:a.name,class:"flex items-center"},[p("span",{class:"w-5 h-5 inline-block mr-3 rounded-full",style:X({backgroundColor:a.color})},null,4),p("span",gt,T(a.name),1)]))),128))])]),_:1})]),_:1}))}});/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yt=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),_t=n=>{const e=yt(n);return e.charAt(0).toUpperCase()+e.slice(1)},Dt=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),ue=n=>n==="";/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=({name:n,iconNode:e,absoluteStrokeWidth:t,"absolute-stroke-width":s,strokeWidth:a,"stroke-width":m,size:y=J.width,color:u=J.stroke,...c},{slots:i})=>L("svg",{...J,...c,width:y,height:y,stroke:u,"stroke-width":ue(t)||ue(s)||t===!0||s===!0?Number(a||m||J["stroke-width"])*24/Number(y):a||m||J["stroke-width"],class:Dt("lucide",c.class,...n?[`lucide-${ie(_t(n))}-icon`,`lucide-${ie(n)}`]:["lucide-icon"])},[...e.map(l=>L(...l)),...i.default?[i.default()]:[]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(n,e)=>(t,{slots:s,attrs:a})=>L(ht,{...a,...t,iconNode:e,name:n},s);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=ye("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ye("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Ct={key:0,class:"text-center text-muted-foreground"},wt={class:"space-y-3"},Tt={class:"flex items-center gap-3"},kt={class:"font-medium"},$t={class:"text-sm text-muted-foreground"},Et={class:"flex items-center gap-2"},Nt=w({__name:"EventList",emits:["editEvent"],setup(n,{emit:e}){const t=G(),s=se(()=>[...t.events].sort((y,u)=>{const c=new Date(y.startDate).getTime(),i=new Date(u.startDate).getTime();return c-i}));function a(y){confirm("Are you sure you want to delete this event?")&&t.removeEvent(y)}function m(y){const u=new Date(y.startDate).toLocaleDateString(),c=new Date(y.endDate).toLocaleDateString();return u===c?u:`${u} - ${c}`}return(y,u)=>(_(),R(r(Y),null,{default:v(()=>[f(r(P),null,{default:v(()=>[f(r(W),null,{default:v(()=>[...u[0]||(u[0]=[h("All Events",-1)])]),_:1})]),_:1}),f(r(Z),null,{default:v(()=>[s.value.length===0?(_(),D("div",Ct," No events added yet. ")):ee("",!0),p("ul",wt,[(_(!0),D(U,null,F(s.value,c=>(_(),D("li",{key:c.id,class:"flex items-center justify-between p-3 border rounded-md"},[p("div",Tt,[p("span",{class:"w-4 h-4 rounded-full",style:X({backgroundColor:c.color})},null,4),p("div",null,[p("p",kt,T(c.type),1),p("p",$t,T(m(c)),1)])]),p("div",Et,[f(r(S),{variant:"outline",size:"icon",onClick:i=>r(t).selectedEvent=c},{default:v(()=>[f(r(xt),{class:"h-4 w-4"})]),_:1},8,["onClick"]),f(r(S),{variant:"destructive",size:"icon",onClick:i=>a(c.id)},{default:v(()=>[f(r(bt),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]))),128))])]),_:1})]),_:1}))}}),St={class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},Mt=w({__name:"ConfirmModal",props:{title:{},description:{}},emits:["confirm","cancel"],setup(n,{emit:e}){const t=e;return(s,a)=>(_(),D("div",St,[f(r(Y),{class:"w-full max-w-md"},{default:v(()=>[f(r(P),null,{default:v(()=>[f(r(W),null,{default:v(()=>[h(T(n.title),1)]),_:1}),f(r(at),null,{default:v(()=>[h(T(n.description),1)]),_:1})]),_:1}),f(r(ge),{class:"flex justify-end gap-4"},{default:v(()=>[f(r(S),{variant:"outline",onClick:a[0]||(a[0]=m=>t("cancel"))},{default:v(()=>[...a[2]||(a[2]=[h("Cancel",-1)])]),_:1}),f(r(S),{onClick:a[1]||(a[1]=m=>t("confirm"))},{default:v(()=>[...a[3]||(a[3]=[h("Confirm",-1)])]),_:1})]),_:1})]),_:1})]))}});function Vt(n){var m,y;const e=[],t=n.split(/\r\n|\n/);let s={},a=!1;for(const u of t)if(u.startsWith("BEGIN:VEVENT"))a=!0,s={};else if(u.startsWith("END:VEVENT"))a=!1,s.uid&&s.summary&&s.startDate&&s.endDate&&e.push(s);else if(a)if(u.startsWith("SUMMARY:"))s.summary=u.substring(8).trim();else if(u.startsWith("DTSTART;")){const c=u.split(":"),i=(m=c.pop())==null?void 0:m.trim(),l=c.join(":").substring(8).split(";").map(d=>d.trim());i&&(l.includes("VALUE=DATE")?s.startDate=M(V(i),"yyyy-MM-dd"):s.startDate=M(V(i.substring(0,8)),"yyyy-MM-dd"))}else if(u.startsWith("DTSTART:")){const c=u.substring(8).trim();c.length===8?s.startDate=M(V(c),"yyyy-MM-dd"):c.length>8&&c.includes("T")?s.startDate=M(V(c.substring(0,8)),"yyyy-MM-dd"):s.startDate=M(V(c),"yyyy-MM-dd")}else if(u.startsWith("DTEND;")){const c=u.split(":"),i=(y=c.pop())==null?void 0:y.trim(),l=c.join(":").substring(6).split(";").map(d=>d.trim());if(i)if(l.includes("VALUE=DATE")){const d=V(i);d.setDate(d.getDate()-1),s.endDate=M(d,"yyyy-MM-dd")}else s.endDate=M(V(i.substring(0,8)),"yyyy-MM-dd")}else if(u.startsWith("DTEND:")){const c=u.substring(6).trim();if(c.length===8){const i=V(c);i.setDate(i.getDate()-1),s.endDate=M(i,"yyyy-MM-dd")}else c.length>8&&c.includes("T")?s.endDate=M(V(c.substring(0,8)),"yyyy-MM-dd"):s.endDate=M(V(c),"yyyy-MM-dd")}else u.startsWith("DESCRIPTION:")?s.description=u.substring(12).trim():u.startsWith("UID:")&&(s.uid=u.substring(4).trim());return e}const It={class:"page-container max-w-7xl mx-auto p-4 sm:p-6 lg:p-8"},Ut={class:"text-center my-8 relative no-print"},jt={class:"flex justify-center space-x-2 mb-4 mt-5"},At={class:"no-print grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},Ft={class:"lg:col-span-2 flex flex-col gap-8"},zt={class:"lg:col-span-1 flex flex-col gap-8"},Ot={class:"flex justify-between py-1"},Lt={class:"font-semibold"},Rt={class:"flex justify-between py-1"},Yt={class:"font-semibold"},Pt={class:"flex justify-between py-1"},Wt={class:"font-semibold"},Bt={class:""},Ht={class:"text-2xl font-bold text-center mb-4 print-only"},Jt={class:"mt-8 print-only print-legend-container"},Zt={class:"mt-8 no-print"},qt=w({__name:"YearViewPage",setup(n){const e=G(),t=I(null),s=I(null),a=I(!1);function m(){window.print()}function y(){const g={events:e.events,eventTypes:e.eventTypes},o=JSON.stringify(g,null,2),b=new Blob([o],{type:"application/json"}),x=URL.createObjectURL(b),C=document.createElement("a");C.href=x,C.download="calendar-data.json",C.click(),URL.revokeObjectURL(x)}function u(){var g;(g=t.value)==null||g.click()}function c(){var g;(g=s.value)==null||g.click()}function i(g){var x;const o=(x=g.target.files)==null?void 0:x[0];if(!o)return;const b=new FileReader;b.onload=C=>{var N;try{const $=JSON.parse((N=C.target)==null?void 0:N.result);$.events&&$.eventTypes?(e.setData({newEvents:$.events,newTypes:$.eventTypes}),alert("Data geÃ¯mporteerd!")):alert("Ongeldig bestandsformaat.")}catch($){alert("Fout bij het lezen van het bestand."),console.error($)}},b.readAsText(o)}async function l(g){var x;const o=(x=g.target.files)==null?void 0:x[0];if(!o)return;const b=new FileReader;b.onload=async C=>{var N;try{const $=(N=C.target)==null?void 0:N.result,k=Vt($);e.eventTypes.find(E=>E.name==="ICS Event")||e.addEventType({name:"ICS Event",color:"#888888"});const O=e.eventTypes.find(E=>E.name==="ICS Event");O?(k.forEach(E=>{e.addEvent({startDate:E.startDate,endDate:E.endDate,type:E.summary,color:O.color})}),alert(`${k.length} events from ICS imported!`)):alert('Could not find or create "ICS Event" type.'),s.value&&(s.value.value="")}catch($){alert("Fout bij het lezen of parsen van het ICS-bestand."),console.error($)}},b.readAsText(o)}function d(){e.clearData(),a.value=!1}return(g,o)=>{const b=Ee("router-link");return _(),D("div",It,[a.value?(_(),R(Mt,{key:0,title:"Are you sure?",description:"This will delete all your custom events and types. This action cannot be undone.",onConfirm:d,onCancel:o[0]||(o[0]=x=>a.value=!1)})):ee("",!0),p("header",Ut,[p("div",jt,[f(b,{to:"/",class:"px-3 py-1 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition"},{default:v(()=>[...o[2]||(o[2]=[h("Home",-1)])]),_:1})])]),p("div",At,[p("div",Ft,[f(pt)]),p("div",zt,[f(oe),f(r(Y),null,{default:v(()=>[f(r(P),null,{default:v(()=>[f(r(W),null,{default:v(()=>[...o[3]||(o[3]=[h("Leave Days",-1)])]),_:1})]),_:1}),f(r(Z),null,{default:v(()=>[o[7]||(o[7]=p("div",{class:"flex flex-col space-y-4"},null,-1)),p("div",Ot,[o[4]||(o[4]=p("span",null,"Total:",-1)),p("span",Lt,T(r(e).leaveDayStats.total),1)]),p("div",Rt,[o[5]||(o[5]=p("span",null,"Planned:",-1)),p("span",Yt,T(r(e).leaveDayStats.planned),1)]),p("div",Pt,[o[6]||(o[6]=p("span",null,"Remaining:",-1)),p("span",Wt,T(r(e).leaveDayStats.remaining),1)])]),_:1})]),_:1}),f(r(Y),null,{default:v(()=>[f(r(P),null,{default:v(()=>[f(r(W),null,{default:v(()=>[...o[8]||(o[8]=[h("Data Management",-1)])]),_:1})]),_:1}),f(r(Z),{class:"flex flex-wrap gap-4"},{default:v(()=>[f(r(S),{onClick:y},{default:v(()=>[...o[9]||(o[9]=[h("Export",-1)])]),_:1}),f(r(S),{onClick:u,variant:"outline"},{default:v(()=>[...o[10]||(o[10]=[h("Import JSON",-1)])]),_:1}),f(r(S),{onClick:c,variant:"outline"},{default:v(()=>[...o[11]||(o[11]=[h("Import ICS",-1)])]),_:1}),f(r(S),{onClick:o[1]||(o[1]=x=>a.value=!0),variant:"destructive"},{default:v(()=>[...o[12]||(o[12]=[h("Restart",-1)])]),_:1}),f(r(S),{onClick:m},{default:v(()=>[...o[13]||(o[13]=[h("Print Year View",-1)])]),_:1}),p("input",{type:"file",ref_key:"importFile",ref:t,onChange:i,class:"hidden",accept:".json"},null,544),p("input",{type:"file",ref_key:"importIcsFile",ref:s,onChange:l,class:"hidden",accept:".ics"},null,544)]),_:1})]),_:1})])]),p("div",Bt,[p("h2",Ht,T(new Date().getFullYear()),1),f(qe),p("div",Jt,[f(oe)])]),p("div",Zt,[f(Nt)])])}}});export{qt as default};
